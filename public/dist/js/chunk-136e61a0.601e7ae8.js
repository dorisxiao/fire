(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-136e61a0"],{3231:function(e,t,a){"use strict";var r=a("4108"),n=a.n(r);n.a},4108:function(e,t,a){},"5ee1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c}));var r=a("a27e");function n(e){return Object(r["a"])({url:"/batch/array",method:"post",params:e})}function i(e){return Object(r["a"])({url:"/batch/score/array",method:"post",params:e})}function s(e){return Object(r["a"])({url:"/batch/score/commit",method:"post",params:e})}function l(e){return Object(r["a"])({url:"/batch/score/fire",method:"post",params:e})}function o(e){return Object(r["a"])({url:"/batch/modify",method:"post",params:e})}function c(e){return Object(r["a"])({url:"/batch/score/user/delete",method:"post",params:e})}},e697:function(e,t,a){"use strict";var r=a("e46b"),n=a("013f")(5),i="find",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("0e8b")(i)},e9ca:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("h3",[e._v("数据查询")]),a("div",{staticClass:"contain"},[a("div",{staticClass:"table_container"},[a("el-row",{staticClass:"headerSearch"},[a("el-select",{attrs:{filterable:"",placeholder:"请选择人员"},on:{change:e.selectGet},model:{value:e.data.uid,callback:function(t){e.$set(e.data,"uid",t)},expression:"data.uid"}},e._l(e.options,(function(t){return"1"!=t.mode?a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}}):e._e()})),1),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),a("div",{staticClass:"readWrapper"},[a("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1),a("el-select",{attrs:{filterable:"",placeholder:"请选择批次"},on:{change:e.selectGet2},model:{value:e.selectId,callback:function(t){e.selectId=t},expression:"selectId"}},e._l(e.PCoptions,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tableDataTop",attrs:{data:e.tableData,height:"500"}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+e.paginations.pageIndex*e.paginations.pageSize+1)+" ")])]}}])}),a("el-table-column",{attrs:{property:"vs",width:"200px",label:"对阵双方",align:"center"}}),a("el-table-column",{attrs:{property:"mode",width:"50px",formatter:e.formatWQ,label:"武器",align:"center"}}),a("el-table-column",{attrs:{property:"sheight",label:"发射高度/速度",formatter:e.formatWQ1,align:"center"}}),a("el-table-column",{attrs:{property:"theight",label:"对方高度/速度",formatter:e.formatWQ2,align:"center"}}),a("el-table-column",{attrs:{property:"firedistance",label:"发射距离",formatter:e.formatDis,align:"center"}}),a("el-table-column",{attrs:{property:"hit",formatter:e.formatHit,label:"命中结果",align:"center"}}),a("el-table-column",{attrs:{property:"firespeed",label:"结束弹速/弹目距离",formatter:e.formatWQ3,align:"center"}}),a("el-table-column",{attrs:{property:"miss",label:"未命中原因",align:"center"}}),a("el-table-column",{attrs:{property:"ws",label:"误伤",formatter:e.formatWS,align:"center"}})],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData2,border:"",stripe:"",height:"250","highlight-current-row":"","header-cell-class-name":"table-header-class"}},[a("el-table-column",{attrs:{property:"user",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{property:"height",label:"高度违规",align:"center"}}),a("el-table-column",{attrs:{property:"report",label:"报告词违规",align:"center"}}),a("el-table-column",{attrs:{property:"fire",label:"违规发射",align:"center"}}),a("el-table-column",{attrs:{property:"ball",label:"突破球",align:"center"}}),a("el-table-column",{attrs:{property:"other",label:"其他",align:"center"}})],1)],1)],1)],1)])])},n=[],i=(a("cc57"),a("e697"),a("c24f"),a("5ee1")),s={data:function(){return{fileList:[],PCoptions:[],data:{uid:"",name:"",site:"2",start:"",end:""},options:this.sessionData("get","userList"),searchUser:[],props:{multiple:!0,checkStrictly:!0},value:"",value1:"",tableData2:[],tableData:[],loading:!1,paginations:{total:1,pageIndex:0,pageSize:100,pageSizes:[100,10],layout:"total, sizes, prev, pager, next, jumper"},selectId:"",res:null}},created:function(){},mounted:function(){this.batchList({count:this.paginations.pageSize,index:this.paginations.pageIndex,detail:1})},methods:{formatTime:function(e){return this.$tool.formatDate(new Date(e.time))},formatHit:function(e){return e.hit?"命中":"未命中"},formatWQ:function(e){return 255==e.mode?"航炮-255":e.mode?"P-"+e.mode:""},formatDis:function(e){if(e.firedistance)return(e.firedistance/1e3).toFixed(2)+"km"},formatWQ1:function(e){var t=e.sheight||"",a=e.sspeed||"",r=t&&a?t+"/"+a:"";return r},formatWQ2:function(e){var t=e.theight||"",a=e.tspeed||"",r=t&&a?t+"/"+a:"";return r},formatWQ3:function(e){var t=e.fireendspeed||"",a=e.distance||"",r=t&&a?t+"/"+a:"";return r},formatWS:function(e){return e.ws?"是":"否"},search:function(){this.PCoptions=[],this.selectId="",this.tableData=[],this.batchList({count:this.paginations.pageSize,index:this.paginations.pageIndex,uid:this.data.uid,detail:1})},batchList:function(e){var t=this;Object(i["a"])(e).then((function(e){if(0==e.code){t.$message({message:"获取批次数据成功！",type:"success"});var a=t.$unfly(e.data);console.log("批次列表8888",a),t.PCoptions=a.array,t.resList=a}}))},selectGet:function(e){var t={};t=this.options.find((function(t){return t._id===e})),this.data.name=t.name},selectGet2:function(e){this.selectTable(e,this.resList)},selectTable:function(e,t){var a=[];for(var r in t.array)if(e==t.array[r]._id)for(var n in t.array[r].data){var i=t.array[r].data[n];for(var s in i.pcid=t.array[r]._id,t.array[r].vs){for(var l in t.array[r].vs[s].sgroup)i.sfid==t.array[r].vs[s].sgroup[s].fid&&(i.shid=t.array[r].vs[s].sgroup[s].hid,i.suid=t.array[r].vs[s].sgroup[s].uid);for(var l in t.array[r].vs[s].tgroup)i.tfid==t.array[r].vs[s].tgroup[s].fid&&(i.thid=t.array[r].vs[s].tgroup[s].hid,i.tuid=t.array[r].vs[s].tgroup[s].uid)}var o=(t.users[i.suid]||"")+"  "+(t.users[i.shid]||"")+"  "+(t.planes[i.sfid]||""),c=(t.users[i.tuid]||"")+"  "+(t.users[i.thid]||"")+"  "+(t.planes[i.tfid]||"");i.vsTitle=o+"VS"+c,i.dmjl=(i.fireend-i.fireestart)*i.firespeed/1e3,i.dmjl=isNaN(i.dmjl)?0:i.dmjl,a.push(i)}this.tableData=a;var u=t.array[0].foul,d=[];for(var r in u)u[r].foul.user=t.users[u[r].uid],d.push(u[r].foul);this.tableData2=d,a.length||this.$message({message:"没有数据！",type:"success"})},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},getUserList:function(){this.paginations.pageSize,this.paginations.pageIndex},handleSizeChange:function(e){this.paginations.pageSize=e,this.getUserList()},handleCurrentChange:function(e){this.paginations.pageIndex=e,this.getUserList()}}},l=s,o=(a("3231"),a("4023")),c=Object(o["a"])(l,r,n,!1,null,"57cb40b8",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-136e61a0.601e7ae8.js.map