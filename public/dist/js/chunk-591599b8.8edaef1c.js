(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-591599b8"],{"0fe1":function(t,e,i){},"27de":function(t,e,i){},"4f3d":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r}));var a=i("a27e");function n(t){return Object(a["a"])({url:"/power/f/trend",method:"post",params:t})}function r(t){return Object(a["a"])({url:"/power/f",method:"post",params:t})}},"6c0b":function(t,e,i){"use strict";var a=i("cbc3"),n=i.n(a);n.a},b21c:function(t,e,i){},c2e5:function(t,e,i){},cb2c:function(t,e,i){"use strict";var a=i("27de"),n=i.n(a);n.a},cbc3:function(t,e,i){},db3b:function(t,e,i){"use strict";var a=i("c2e5"),n=i.n(a);n.a},dd4b:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{ref:"data_section",staticClass:"data_section"},[i("h3",{staticClass:"aTitle"},[t._v("生存能力分析")]),i("div",{staticClass:"headerData"},[i("el-select",{attrs:{filterable:"",placeholder:"请选择人员"},on:{change:t.selectGet},model:{value:t.data.uid,callback:function(e){t.$set(t.data,"uid",e)},expression:"data.uid"}},t._l(t.options,(function(e){return"1"!=e.mode?i("el-option",{key:e._id,attrs:{label:e.name,value:e._id}}):t._e()})),1),i("el-date-picker",{staticClass:"dateWrapper",attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),i("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search(4)}}},[t._v("查询")])],1),i("el-row",{staticClass:"row_list order_list",attrs:{gutter:10}},[i("el-col",{staticClass:"searchWrapper",attrs:{span:12}},[i("el-button",{staticClass:"but1 search",attrs:{type:"primary"},on:{click:function(e){return t.search(2)}}},[t._v("总体数据")]),i("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:function(e){return t.search(0)}}},[t._v("前仓数据")]),i("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:function(e){return t.search(1)}}},[t._v("后仓数据")])],1),i("el-col",{attrs:{span:6}},[t._v(" ")]),i("el-col",{attrs:{span:6}},[i("ul",{staticClass:"df"},[i("li",[i("p",[t._v("生存时间占比")]),i("el-progress",{attrs:{"stroke-width":20,percentage:t.livepercent,format:t.format2}})],1)])])],1),i("el-row",{staticClass:"row_list order_list",attrs:{gutter:10}},[i("div",{staticClass:"aTopLeft fTitle"},[i("h1",[t._v("生存率")]),i("ul",[i("li",[i("span"),i("p",[t._v("规避")]),i("p",[t._v(t._s((100*t.hidepercent).toFixed(2))+"%")])]),i("li",[i("span")]),i("li",[i("span"),i("p",[t._v("未规避")]),i("p",[t._v(t._s((100*t.behitpercent).toFixed(2))+"%")])])])]),i("div",{staticClass:"aTopRight aButtomRight",attrs:{id:"aButtomRight"}},[i("ul",{staticClass:"aRightTJ"},[i("h1",[t._v("被命中概率")]),i("li",[i("span",{attrs:{id:"hpWrapper"}}),i("p",[t._v("航炮")]),i("div",[i("el-progress",{attrs:{"stroke-width":20,percentage:t.gl[255].mzgl,format:t.format}})],1)]),i("li",[i("span"),i("p",[t._v("P-10")]),i("div",[i("el-progress",{attrs:{"stroke-width":20,percentage:t.gl[10].mzgl,format:t.format}})],1)]),i("li",[i("span"),i("p",[t._v("P-12")]),i("div",[i("el-progress",{attrs:{"stroke-width":20,percentage:t.gl[12].mzgl,format:t.format}})],1)]),i("li",[i("span"),i("p",[t._v("P-15")]),i("div",[i("el-progress",{attrs:{"stroke-width":20,percentage:t.gl[15].mzgl,format:t.format}})],1)])])])]),i("el-row",{staticClass:"row_list order_list",attrs:{gutter:10}},[i("div",{staticClass:"aTopLeft",attrs:{id:"aTopLeft"}},[i("bottomPie1",{ref:"bottomPie1"}),i("bottomPie2",{ref:"bottomPie2"}),i("bottomPie3",{ref:"bottomPie3"})],1)])],1)},n=[],r=(i("163d"),i("e697"),i("cc57"),i("4f3d")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"bottomPie3-1"}})},s=[],l=i("2389"),c=i.n(l),u={data:function(){return{myChart:null}},mounted:function(){},methods:{loadChart:function(t){this.myChart=c.a.init(document.getElementById("bottomPie3-1")),this.myChart.setOption(this.initOption(t))},init:function(t){var e=[];for(var i in t)t[i]&&e.push({name:i,value:t[i]});this.loadChart(e)},initOption:function(t){return{title:{text:"P-10规避原因",subtext:"",left:"center",bottom:0,textStyle:{color:"#00FFFF",fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#3be9e7","#36bcd9","#2e86cd","#3560bf"],series:[{name:"标题",type:"pie",center:["50%","45%"],radius:["40%","65%"],clockwise:!1,avoidLabelOverlap:!1,label:{normal:{show:!0,position:"outter",formatter:function(t){return t.data.legendname}}},data:t}]}}}},d=u,m=(i("cb2c"),i("4023")),f=Object(m["a"])(d,o,s,!1,null,null,null),h=f.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"bottomPie2"}})},b=[],v={data:function(){return{myChart:null}},mounted:function(){},methods:{loadChart:function(t){this.myChart=c.a.init(document.getElementById("bottomPie2")),this.myChart.setOption(this.initOption(t))},init:function(t){var e=[];for(var i in t)t[i]&&e.push({name:i,value:t[i]});this.loadChart(e)},initOption:function(t){return{title:{text:"P-12规避原因",subtext:"",left:"center",bottom:0,textStyle:{color:"#00FFFF",fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#3be9e7","#36bcd9","#2e86cd","#3560bf"],series:[{name:"标题",type:"pie",center:["50%","45%"],radius:["40%","65%"],clockwise:!1,avoidLabelOverlap:!1,label:{normal:{show:!0,position:"outter",formatter:function(t){return t.data.legendname}}},data:t}]}}}},g=v,y=(i("6c0b"),Object(m["a"])(g,p,b,!1,null,null,null)),_=y.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"bottomPie3"}})},w=[],P={data:function(){return{myChart:null}},mounted:function(){},methods:{loadChart:function(t){this.myChart=c.a.init(document.getElementById("bottomPie3")),this.myChart.setOption(this.initOption(t))},init:function(t){var e=[];for(var i in t)t[i]&&e.push({name:i,value:t[i]});this.loadChart(e)},initOption:function(t){return{title:{text:"P-15规避原因",subtext:"",left:"center",bottom:0,textStyle:{color:"#00FFFF",fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#3be9e7","#36bcd9","#2e86cd","#3560bf"],series:[{name:"标题",type:"pie",center:["50%","45%"],radius:["40%","65%"],clockwise:!1,avoidLabelOverlap:!1,label:{normal:{show:!0,position:"outter",formatter:function(t){return t.data.legendname}}},data:t}]}}}},x=P,z=(i("db3b"),Object(m["a"])(x,C,w,!1,null,null,null)),O=z.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"bottomPie4"}})},k=[],N={data:function(){return{myChart:null}},mounted:function(){this.loadChart()},methods:{loadChart:function(){this.myChart=c.a.init(document.getElementById("bottomPie4")),this.myChart.setOption(this.initOption())},initOption:function(){return{title:{text:"航炮未命中原因",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{bottom:10,left:"center",data:["原因1","原因2","原因3","原因4"]},color:["#ffc000","#a5a5a5","#ed7d31","#5b9bd5"],series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"原因1"},{value:310,name:"原因2"},{value:234,name:"原因3"},{value:135,name:"原因4"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},$=N,E=(i("f6f5"),Object(m["a"])($,F,k,!1,null,null,null)),T=E.exports,j={components:{bottomPie1:h,bottomPie2:_,bottomPie3:O,bottomPie4:T},data:function(){return{value1:"",hidepercent:null,behitpercent:null,data:{uid:"",name:"",site:"2",start:"",end:""},user:this.sessionData("get","user"),options:this.sessionData("get","userList"),time:"",livepercent:0,gl:{255:{mzgl:0,wmzgl:0},10:{mzgl:0,wmzgl:0},12:{mzgl:0,wmzgl:0},15:{mzgl:0,wmzgl:0},totle:{mzgl:0,mzglcs:0,wmzgl:0,wmzglcs:0}}}},created:function(){},mounted:function(){this.fAnalysis(this.user.name,this.data.site)},methods:{search:function(t){t=4==t?this.data.site:t;var e=this.value1?this.value1[0].getTime():"",i=this.value1?this.value1[1].getTime():"";this.fAnalysis(this.data.name,t,e,i)},selectGet:function(t){var e={};e=this.options.find((function(e){return e._id===t})),this.data.name=e.name},fAnalysis:function(t,e,i,a){var n=this;Object(r["a"])({name:t||this.user.name,site:e,start:i||"",end:a||""}).then((function(t){if(0==t.code){n.$message({message:"数据查询成功！",type:"success"});var e=n.$unfly(t.data);n.hidepercent=e.hidepercent,n.behitpercent=e.behitpercent,n.time=(e.livetime/1e3/60/60).toFixed(2);try{n.livepercent=Number((100*e.livepercent).toFixed(2))}catch(i){}console.log("f能力数据分析",e),n.setHit(e.behit,e.hide),n.$refs.bottomPie1.init(e.cause[10]),n.$refs.bottomPie2.init(e.cause[12]),n.$refs.bottomPie3.init(e.cause[15])}}))},setHit:function(t,e){var i={},a=0,n=0;for(var r in t)i[r]=[t[r],e[r]],a+=t[r],n+=e[r];for(var r in this.gl.totle.mzgl=isNaN(a/(a+n))?Number(0):Number((a/(a+n)).toFixed(0)),this.gl.totle.wmzgl=isNaN(n/(a+n))?Number(0):Number((n/(a+n)).toFixed(0)),this.gl.totle.mzglcs=a,this.gl.totle.wmzglcs=n,i)this.gl[r].mzgl=isNaN(i[r][0]/(i[r][0]+i[r][1]))?Number(0):Number((i[r][0]/(i[r][0]+i[r][1])*100).toFixed(0)),this.gl[r].wmzgl=isNaN(i[r][1]/(i[r][0]+i[r][1]))?Number(0):Number((i[r][1]/(i[r][0]+i[r][1])*100).toFixed(0));console.log("查看命中概率",this.gl)},format:function(t){return"被命中概率"+t+"%"},format2:function(t){return t+"%"}}},B=j,L=(i("dd94"),Object(m["a"])(B,a,n,!1,null,"d6c7a290",null));e["default"]=L.exports},dd94:function(t,e,i){"use strict";var a=i("0fe1"),n=i.n(a);n.a},e697:function(t,e,i){"use strict";var a=i("e46b"),n=i("013f")(5),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a(a.P+a.F*o,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("0e8b")(r)},f6f5:function(t,e,i){"use strict";var a=i("b21c"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-591599b8.8edaef1c.js.map